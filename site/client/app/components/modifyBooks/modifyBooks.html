<md-content class="modify-books">
    <md-card class="form" flex="60" flex-sm="100" ng-show="$ctrl.searching">
        <md-card-header>
            <md-card-header-text>
                <span class="md-title">Administrar Libros</span>
            </md-card-header-text>
        </md-card-header>
        <md-card-content>
            <form name="pickBook" class="authors-form">
                <div layout-gt-xs="row">
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>ISBN</label>
                        <input ng-model="$ctrl.form.isbn" required>
                    </md-input-container>
                </div>
                <div layout="row" layout-align="end" flex>
                    <md-button ng-click="$ctrl.deleteAll()" class="md-warn">Borrar todos los libros</md-button>
                    <md-button ng-click="$ctrl.showCreate()" class="md-primary">Crear Libro</md-button>
                    <md-button ng-click="$ctrl.pick()" ng-disabled="pickBook.$invalid" class="md-primary">Buscar</md-button>
                </div>
            </form>
        </md-card-content>
    </md-card>
    <md-card class="form" flex="60" flex-sm="100" ng-show="!$ctrl.searching">
        <md-card-header>
            <md-card-header-text>
                <span class="md-title">{{$ctrl.creating?'Crear Libro':'Modificar Libro'}}</span>
            </md-card-header-text>
        </md-card-header>
        <md-card-content>
            <form name="booksForm" class="books-form">
                <div layout-gt-xs="row">
                    <md-input-container class="md-block" flex-gt-xs>
                        <label>Título</label>
                        <input ng-model="$ctrl.form.title" required>
                    </md-input-container>
                </div>
                <div layout-gt-sm="row">
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Autores (Separar por comas)</label>
                        <input ng-model="$ctrl.form.authors" required>
                    </md-input-container>
                </div>
                <div layout-gt-sm="row">
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>ISBN</label>
                        <input ng-model="$ctrl.form.isbn" ng-readonly="!$ctrl.creating" required>
                    </md-input-container>
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Género</label>
                        <input ng-model="$ctrl.form.genre" required>
                    </md-input-container>
                </div>
                <div layout-gt-sm="row">
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Editorial</label>
                        <input ng-model="$ctrl.form.publisher" required>
                    </md-input-container>
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Año de Edición</label>
                        <input name="year" ng-model="$ctrl.form.year" ng-pattern="/^[0-9]+$/" required>
                    </md-input-container>
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Candidad de Páginas</label>
                        <input name="pageCount" ng-model="$ctrl.form.pageCount" ng-pattern="/^[0-9]+$/" required>
                    </md-input-container>
                </div>
                <div layout="row" layout-align="end" flex>
                    <md-button ng-if="$ctrl.creating" ng-click="$ctrl.create()" ng-disabled="booksForm.$invalid" class="md-primary">Crear</md-button>
                    <md-button ng-if="!$ctrl.creating" ng-click="$ctrl.deleteOne()" class="md-warn">Borrar libro</md-button>
                    <md-button ng-if="!$ctrl.creating" ng-click="$ctrl.modify()" ng-disabled="booksForm.$invalid" class="md-primary">Modificar</md-button>
                </div>
            </form>
        </md-card-content>
    </md-card>
</md-content>
